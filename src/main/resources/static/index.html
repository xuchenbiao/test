<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>登陆</title>
  <link rel="stylesheet" href="style.css" />

  <link rel="stylesheet" href="../plugins/elementui/index.css">
  <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">



</head>

<body >

<div id="app"   class="box">
  <div class="c1">
  <h2>登陆</h2>
  <div class="input-box">
    <label>用户名</label>
    <input type="text"  name="username"  v-model="username"  />
  </div>
  <div class="input-box">
    <label>密码</label>
    <input type="password"  name="password" id="password" v-model="password"/>

  </div>
  <div class="btn-box">
    <a href="#">忘记密码?</a>
    <div>
      <button id="login" @click="login()">登录</button>
      <a id="regist" href="./zhuce.html" >注册</a>
    </div>
  </div>
  </div>

</div>


<script type="text/javascript" src="https://cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>

</body>
<script src="../js/vue.js"></script>
<script src="../js/axios-0.18.0.js"></script>
<script src="../plugins/elementui/index.js"></script>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script>


  new Vue({
    el:'#app',
    data:{
      username:'',
      password:'',
    },
    methods:{
      login(){

        axios.post("/logins",{
          username:this.username,
          password:this.password
        }).then(
                res=>{
                  console.log(res.data);
                  if (res.data.flag===true){
                    this.$message.success("登陆成功!");
                    setTimeout(()=>{
                      location.href='./pages/books.html'
                    }, 1000)
                  }
                  else {
                    this.$message.warning(res.data.msg);
                  }
                }
        )
      }
    }
  })
</script>
</html>